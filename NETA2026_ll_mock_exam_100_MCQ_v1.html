<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>NETA Level II — 200 Question Mock Exam</title>
<style>
body{font-family:Arial,sans-serif;margin:20px;color:#111}
h1{font-size:1.4rem;margin-bottom:0}
.question{border-bottom:1px solid #eee;padding:10px 0}
.qtext{font-weight:600}
label.option{display:block;margin:6px 0;cursor:pointer}
.feedback{margin-top:6px;font-weight:700}
.correct{color:green}
.incorrect{color:red}
button{padding:8px 12px;margin-top:12px;cursor:pointer;margin-right:8px}
#score{margin:12px 0;font-weight:700;font-size:1.1rem}
</style>
</head>
<body>
<h1>NETA Level II — 100 Original Question from Exam</h1>
<div id="score">Score: 0 / 25 | # Correct: 0 | # Incorrect: 0 | Correct %: 0%</div>
<form id="examForm"></form>

<button id="prev">Previous Section</button>
<button id="next">Next Section</button>
<button id="submit">Submit Section</button>
<button id="reset">Reset Section</button>


<script>
const questions = [




//Q1
{
  q: "How do you test LEDs on a relay?",
  A: "Check relay statuses and function them all",
  B: "Inject voltages and currents",
  C: "Record LEDs that are on",
  D: "Not applicable",
  ans: "A"
},

{
  q: "What type of CT has an integrated primary?",
  A: "Bar type",
  B: "Window type",
  C: "Split-core",
  D: "Wound type",
  ans: "A"
},

{
  q: "When do you have to use insulated tools?",
  A: "Limited approach boundary",
  B: "Restricted approach boundary",
  C: "Prohibited approach boundary",
  D: "Not required",
  ans: "B"
},

{
  q: "When current enters H1 and exits H2 of a window-type CT, the secondary current flows out of:",
  img: "images/q4.png",
  A: "X1: Current flows out of X1",
  B: "X2",
  C: "S1",
  D: "S2",
  ans: "A"
},

// q5

{
  q: "What is the typical rating of a network protector?",
  A: "15 kV, 600 A",
  B: "480/277 V, 32 kA",
  C: "216–600 V, 800–6200 A",
  D: "34.5 kV",
  ans: "C"
},

{
  q: "What current is typically used to test contact resistance of a circuit switcher?",
  A: "10 A",
  B: "100 A",
  C: "40 A",
  D: "5 A",
  ans: "B"
},

{
  q: "What are the four leads of a low-resistance ohmmeter (DLRO)?",
  A: "Two current leads and two voltage leads",
  B: "Two voltage leads only",
  C: "Four current leads",
  D: "Two ground and two current leads",
  ans: "A"
},

{
  q: "What instrument is used to test for a high-resistance bolted connection?",
  A: "Megohmmeter",
  B: "Low-resistance ohmmeter",
  C: "Full-wave bridge rectifier",
  D: "Clamp meter",
  ans: "B"
},

{
  q: "During a visual and mechanical inspection, what is used to detect high-resistance bolted connections?",
  A: "Megohmmeter",
  B: "Thermal imaging",
  C: "Low-resistance ohmmeter",
  D: "Hipot tester",
  ans: "C"
},

// Q10
{
  q: "What ANSI device number represents a differential relay?",
  A: "87",
  B: "50",
  C: "51",
  D: "32",
  ans: "A"
},

{
  q: "Which relay element is an inverse time overcurrent element?",
  A: "32",
  B: "50",
  C: "51",
  D: "87",
  ans: "C"
},

{
  q: "What type of contact is shown?",
  img: "images/q12.png",
  A: "Form A",
  B: "Form B",
  C: "Form C",
  D: "Form D",
  ans: "C"
},

{
  q: "Which contact type is normally open?",
  img: "images/q13.png",
  A: "Form A",
  B: "Form B",
  C: "Form C",
  D: "Form D",
  ans: "A"
},

{
  q: "Calculate the kVAR in a 3-phase 4160 V, 400 A system with 86.6% power factor.",
  A: "720 kVAR",
  B: "1441 kVAR",
  C: "2496 kVAR",
  D: "2882 kVAR",
  ans: "B"
},

// Q15
{
  q: "When are safety grounds required?",
  A: "When accidental contact of parts is possible",
  B: "Above 1 kV",
  C: "Only for exposed conductors",
  D: "Only by legal requirement",
  ans: "B"
},

{
  q: "Why should safety grounds be low impedance?",
  A: "To ensure protective devices operate quickly",
  B: "To reduce system voltage",
  C: "To increase fault current duration",
  D: "To isolate the circuit",
  ans: "A"
},

{
  q: "Calculate the kW in a system with 10 kVAR and 20 kVA.",
  A: "17.3 kW",
  B: "10 kW",
  C: "20 kW",
  D: "8.7 kW",
  ans: "A"
},

{
  q: "When hi-pot testing a cable, leakage current decreases over time due to:",
  A: "Resistance",
  B: "Inductance",
  C: "Capacitance (charging current)",
  D: "Reactance",
  ans: "C"
},

{
  q: "How is power transferred from the primary to secondary of a transformer?",
  A: "Electric field",
  B: "Electric conduction",
  C: "Magnetic coupling",
  D: "Reluctance",
  ans: "C"
},

//Q20

{
  q: "During an insulation resistance test, what is the most important parameter?",
  A: "Dielectric absorption",
  B: "Leakage current",
  C: "Capacitive charging current",
  D: "Temperature",
  ans: "B"
},


{
  q: "In switchgear, a hissing sound and sweet smell indicate:",
  A: "Ionization with no electrical concern",
  B: "Partial discharge and insulation burning",
  C: "Corona and ionization of air",
  D: "Normal operation",
  ans: "C"
},


{
  q: "What is the total resistance shown in the circuit?",
  img: "images/q22.png",
  A: "12 Ω",
  B: "10 Ω",
  C: "6 Ω",
  D: "8 Ω",
  ans: "C"
},

{
  q: "Which set represents acceptable contact resistance values per NETA guidance?",
  A: "412, 420, 409",
  B: "125, 68, 140",
  C: "36, 87, 82",
  D: "18, 60, 20",
  ans: "A"
},

{
  q: "What is the acceptable transformer turns ratio error?",
  A: "0.5%",
  B: "5%",
  C: "1%",
  D: "0.25%",
  ans: "A"
},

//Q25
{
  q: "What is the primary purpose of a VFD?",
  A: "Rectify AC to DC",
  B: "Control motor speed",
  C: "Limit current",
  D: "Protection",
  ans: "B"
},


{
  q: "What is the primary purpose of a control power transformer (CPT)?",
  A: "Increase fault current",
  B: "Supply low-voltage control power",
  C: "Isolate the grounding system",
  D: "Step up voltage",
  ans: "B"
},

{
  q: "What causes breaker chatter?",
  A: "Low control voltage",
  B: "High control voltage",
  C: "High resistance",
  D: "CT error",
  ans: "A"
},

{
  q: "Which test verifies CT polarity?",
  A: "Insulation resistance test",
  B: "Ratio test",
  C: "Polarity test",
  D: "Burden test",
  ans: "C"
},

{
  q: "A CT ratio test is performed using:",
  A: "Voltage injection",
  B: "Current injection",
  C: "Insulation resistance",
  D: "Hipot test",
  ans: "B"
},

// Q30
{
  q: "What causes PT fuse blowing?",
  A: "Faulty PT",
  B: "Incorrect ratio",
  C: "High insulation resistance",
  D: "Low power factor",
  ans: "A"
},

{
  q: "A DC hipot test is typically used for:",
  A: "Motors",
  B: "Transformers",
  C: "Cables",
  D: "Circuit breakers",
  ans: "C"
},

{
  q: "Which ANSI device number represents an undervoltage relay?",
  A: "27",
  B: "59",
  C: "81",
  D: "32",
  ans: "A"
},

{
  q: "Which ANSI device number represents an overvoltage relay?",
  A: "27",
  B: "59",
  C: "51",
  D: "87",
  ans: "B"
},

{
  q: "Ground grid corrosion increases:",
  A: "Resistance",
  B: "Voltage",
  C: "Current",
  D: "Capacitance",
  ans: "A"
},

// Q 35

{
  q: "A ground fault on a high-resistance grounded (HRG) system causes:",
  A: "Immediate trip",
  B: "Alarm only",
  C: "Complete shutdown",
  D: "No indication",
  ans: "B"
},

{
  q: "During maintenance of an air-break switch, contacts show pitting. What should be done?",
  A: "Replace contacts",
  B: "Return to service",
  C: "Buff pits out",
  D: "Apply silver paste",
  ans: "A"
},

{
  q: "What test is optional during outdoor bus acceptance testing?",
  A: "Check drain plugs and jacket splices",
  B: "Clean and as-found tests",
  C: "Infrared scan",
  D: "Contact resistance test",
  ans: "B"
},

{
  q: "Which test confirms breaker timing and speed?",
  A: "Insulation resistance test",
  B: "Contact resistance test",
  C: "Mechanical timing test",
  D: "Ratio test",
  ans: "C"
},

{
  q: "Which breaker medium requires moisture control most critically?",
  A: "Air",
  B: "Oil",
  C: "SF₆",
  D: "Vacuum",
  ans: "C"
},

//Q40
{
  q: "What is the purpose of a breaker trip-free mechanism?",
  A: "Prevent manual closing under fault",
  B: "Increase closing speed",
  C: "Reduce contact resistance",
  D: "Enable remote operation",
  ans: "A"
},

{
  q: "Which test measures the health of breaker arcing contacts?",
  A: "Insulation resistance",
  B: "Contact resistance",
  C: "Timing test",
  D: "Power factor test",
  ans: "B"
},

{
  q: "What does a rising insulation resistance reading over time indicate?",
  A: "Poor insulation",
  B: "Surface leakage",
  C: "Dielectric absorption",
  D: "Thermal breakdown",
  ans: "C"
},

{
  q: "Which transformer test detects shorted turns?",
  A: "Insulation resistance test",
  B: "Turns ratio test",
  C: "Excitation current test",
  D: "Power factor test",
  ans: "C"
},

{
  q: "What condition causes high excitation current?",
  A: "Open winding",
  B: "Shorted turns",
  C: "Low oil level",
  D: "High insulation resistance",
  ans: "B"
},
//Q45
{
  q: "What is the main hazard of induced voltage on a de-energized line?",
  A: "Overheating",
  B: "Electric shock",
  C: "Equipment damage",
  D: "Harmonics",
  ans: "B"
},

{
  q: "Which device prevents backfeed into a de-energized system?",
  A: "Relay",
  B: "Ground switch",
  C: "Breaker",
  D: "Recloser",
  ans: "B"
},

{
  q: "Which measurement confirms correct phase sequence?",
  A: "Voltmeter",
  B: "Phase rotation meter",
  C: "Clamp meter",
  D: "Megohmmeter",
  ans: "B"
},

{
  q: "What is the primary function of a protective relay?",
  A: "Control voltage",
  B: "Detect abnormal conditions",
  C: "Regulate current",
  D: "Reduce losses",
  ans: "B"
},

{
  q: "Which relay operates with no intentional time delay?",
  A: "51",
  B: "87",
  C: "50",
  D: "32",
  ans: "C"
},
//Q50

{
  q: "What is the purpose of NFPA?",
  A: "Practical safeguarding of persons and property from electrical hazards",
  B: "To increase efficiency of electrical systems",
  C: "To regulate utility rates",
  D: "To certify electricians",
  ans: "A"
},

{
  q: "When performing maintenance on an outdoor cable tray, you should look for:",
  A: "Ensure drain (weep) holes are unplugged and proper arc flash rating is posted",
  B: "Check for leaks only",
  C: "Ensure grounding is disconnected",
  D: "Only clean the tray",
  ans: "A"
},

{
  q: "What is the limit cell impedances can vary?",
  A: "10%",
  B: "25%",
  C: "35%",
  D: "50%",
  ans: "B"
},

{
  q: "When performing a Reduced Voltage test, what percentage of nominal voltage is used?",
  A: "75%",
  B: "65%",
  C: "55%",
  D: "25%",
  ans: "C"
},

{
  q: "When performing a functional relay test, what diagram would you reference?",
  A: "Schematic diagram",
  B: "Wiring diagram",
  C: "Single line diagram",
  D: "Block diagram",
  ans: "A"
},
//Q55
{
  q: "Know the difference between the icon for a medium and high voltage circuit breaker",
  A: "Medium voltage icon is smaller than high voltage icon",
  B: "Medium voltage icon is different shape than high voltage icon",
  C: "Both icons are identical",
  D: "No standard icons exist",
  ans: "B"
},

{
  q: "Know what a CT looks like on a single line diagram",
  A: "Depicted as a circle with a single winding",
  B: "Depicted as two parallel lines",
  C: "Depicted as a rectangle",
  D: "Depicted as a zigzag symbol",
  ans: "A"
},

{
  q: "What protects a transformer from high voltages?",
  A: "Arrestors",
  B: "Fuses only",
  C: "Relays only",
  D: "Circuit breaker only",
  ans: "A"
},

{
  q: "When checking a fuse rated for 1 A, you would use:",
  A: "Low resistance meter at 10 A",
  B: "Multimeter",
  C: "Megohmmeter",
  D: "Clamp meter",
  ans: "B"
},
//Q59
{
  q: "Calculate the power factor for a 480V circuit with 500W and 360A",
  A: "PF = 0.0029",
  B: "PF = 0.5",
  C: "PF = 0.289",
  D: "PF = 0.002",
  ans: "C"
},

{
  q: "A class 20 generator will trip after 20 seconds at:",
  A: "120%",
  B: "200%",
  C: "300%",
  D: "600%",
  ans: "D"
},

{
  q: "What class of generator has the highest insulation rating?",
  A: "Class A",
  B: "Class B",
  C: "Class F",
  D: "Class H",
  ans: "D"
},

{
  q: "Calculate power factor given 50 kVAR (additional info missing)",
  A: "PF = KW / KVA",
  B: "PF = KVA / KW",
  C: "PF = KW × KVA",
  D: "PF = KVAR / KW",
  ans: "A"
},

{
  q: "Which institution published the standard that a 277 V system has to be grounded 1000A solid?",
  A: "IEEE",
  B: "ASTM",
  C: "NFPA",
  D: "IEC",
  ans: "C"
},
//Q64
{
  q: "What is the result of improperly running the ground cable through a zero sequence CT?",
  A: "Ground Fault Relay won’t trip",
  B: "Ground fault relay will see low current when normally loaded",
  C: "Ground fault relay will nuisance trip",
  D: "No effect",
  ans: "A"
},

{
  q: "Why do you perform insulation resistance from ground neutral conductors to ground in switchgear?",
  A: "Ensure only one path for ground fault",
  B: "Ensure proper bonding between cabinets",
  C: "Check for voltage imbalance",
  D: "Measure temperature rise",
  ans: "A"
},

{
  q: "What is ANSI 27?",
  A: "Undervoltage relay",
  B: "Overvoltage relay",
  C: "Differential relay",
  D: "Ground fault relay",
  ans: "A"
},

{
  q: "What kind of curve shows the most time past from current rise?",
  A: "Normal curve",
  B: "Moderately inverse",
  C: "Very inverse",
  D: "Extremely inverse",
  ans: "D"
},

{
  q: "What is the minimum insulation resistance on the core of a 15kV / 480V transformer?",
  A: "No less than 1 Megohm",
  B: "5 Megohms",
  C: "0.1 Megohm",
  D: "10 Megohms",
  ans: "A"
},
//Q69
{
  q: "What is the minimum insulation resistance of a 277 V molded circuit breaker?",
  A: "25 Megohms",
  B: "10 Megohms",
  C: "50 Megohms",
  D: "5 Megohms",
  ans: "A"
},

{
  q: "What is the maximum ground fault of a 277 V molded circuit breaker?",
  A: "Not specified",
  B: "10 A",
  C: "5 A",
  D: "15 A",
  ans: "A"
},

{
  q: "Name a disadvantage of DC hi-pot?",
  A: "High power consumption",
  B: "Limited portability",
  C: "Poor results finding conductive defects",
  D: "It can damage old cables during the test",
  ans: "D"
},

{
  q: "DC hipot measures the insulation resistance of cables by applying a high voltage on the test device. The leakage current is measured and computed to get the insulation resistance. What is a drawback?",
  A: "Damages old cables during testing",
  B: "Consumes high current",
  C: "Does not detect insulation defects",
  D: "Safe for all cables",
  ans: "A"
},

{
  q: "What motor test is optional as per NETA MTS?",
  A: "Perform insulation power-factor test",
  B: "Perform DC dielectric withstand voltage test",
  C: "Perform surge comparison tests",
  D: "Perform vibration test under load",
  ans: "A"
},

{
  q: "The result is in microohms but the test sheet is in ohms. Make the proper conversion. Example: 62 microohms = ?",
  A: "0.000062 Ohms",
  B: "0.062 Ohms",
  C: "0.0062 Ohms",
  D: "0.62 Ohms",
  ans: "A"
},
//Q75
{
  q: "The rest are in megaohms but the test sheet is in microohms. Make the proper conversion. Example: 62 mega-ohms = ? micro-ohms",
  A: "62000000000",
  B: "62000000",
  C: "62000000000000",
  D: "6200000000",
  ans: "C"
},

{
  q: "Where do you place your probes when performing contact resistance testing on a battery?",
  A: "Probes are placed on the post with a strap in-between",
  B: "Probes are placed on the battery case",
  C: "Probes are placed on the grounding bus",
  D: "Probes are placed randomly",
  ans: "A"
},


{
  q: "Acetylene found in transformer oil signifies the presence of:",
  A: "Arcing",
  B: "Silicone",
  C: "PCBs",
  D: "No concern",
  ans: "A"
},


{
  q: "Fuses found have a difference of resistance of 30%. What should be done?",
  A: "Return to service",
  B: "Replace",
  C: "Clean",
  D: "Investigate",
  ans: "B"
},


{
  q: "Fall of Potential test is used to test:",
  A: "Soil resistivity",
  B: "Soil resistance in relation to a ground grid",
  C: "Transformer winding",
  D: "Breaker contacts",
  ans: "B"
},
//Q80
{
  q: "What test is used to test soil resistivity?",
  A: "Four pole method",
  B: "Three pole method",
  C: "Fall of Potential method",
  D: "Clamp-on method",
  ans: "A"
},


{
  q: "What is the total sum of 3 microfarad capacitors in parallel?",
  A: "3 μF",
  B: "6 μF",
  C: "9 μF",
  D: "12 μF",
  ans: "C"
},


{
  q: "Found fuses have a difference of resistance of 30%. What should be done?",

  A: "Return to service",
  B: "Replace",
  C: "Clean",
  D: "Investigate",
  ans: "B"
},

{
  q: "Fuses should be replaced if they have a resistance difference of:",

  A: "5%",
  B: "10%",
  C: "25%",
  D: "50%",
  ans: "C"
},

//Q84

{
  q: "One transformer CT is installed with reverse polarity. What is the result?",
  instruction: "Double check the question",
  A: "Ground fault relay will trip incorrectly",
  B: "No effect",
  C: "Current measurement error",
  D: "Relay sees low current",
  ans: "A"
},




{
  q: "What is the power factor on a balanced 480 V wye circuit, 500W and 360A?",
  A: "0.55",
  B: "0.866",
  C: "0.707",
  D: "1",
  ans: "B"
},


{
  q: "When performing outdoor acceptance on bus, what test is optional?",
  A: "Check drain plugs and jacket splices",
  B: "Clean and as-found tests",
  C: "Infrared (thermographic) scan",
  D: "Visual inspection of bus and supports",
  ans: "B"
},



{
  q: "Which buses are being measured?",
  img: "images/q87.png",  // placeholder
  A: "A",
  B: "B",
  C: "A and C",
  D: "A and B",
  ans: "A"
},

{
  q: "Ground fault pick-up is set on a 480V molded circuit breaker as “out”. How does this affect the relay?",
  A: "Relay won’t trip on ground fault",
  B: "Relay sees low current",
  C: "Nuisance trips",
  D: "No effect",
  ans: "A"
},

//Q89
{
  q: "What would change with the capacitive reactance if frequency is changed from 60Hz to 20Hz?",
  A: "Nothing",
  B: "Decrease by factor of 3",
  C: "Increase by factor of 3",
  D: "Cut in half",
  ans: "C"
},


{
  q: "What is considered an optional maintenance test on an AC Induction motor?",
  A: "Calculate the polarization index",
  B: "Perform DC dielectric withstand voltage test",
  C: "Perform insulation power-factor test",
  D: "Test surge protection devices",
  ans: "C"
},


{
  q: "What is the minimum resistance value in Megaohms for a 15kV non-rotating machinery device?",
  A: "5,000",
  B: "10,000",
  C: "100,000",
  D: "2,500",
  ans: "A"
},

{
  q: "What type of enclosure is rated for outdoor installation?",
  A: "Type 1",
  B: "Type 2",
  C: "Type 3",
  D: "Type 3R",
  ans: "C"
},

{
  q: "How much should equipment be loaded (minimum) prior to IR scan?",
  A: "20%",
  B: "30%",
  C: "40%",
  D: "50%",
  ans: "C"
},


{
  q: "What tests can cause magnetization of a transformer core?",
  A: "Winding resistance test",
  B: "Insulation resistance test",
  C: "Turns ratio test",
  D: "Power factor test",
  ans: "A"
},
//Q95
{
  q: "What is ground resistivity commonly measured in?",
  A: "m³",
  B: "m²",
  C: "Ω·m",
  D: "ohm-cm",
  ans: "C"
},

{
  q: "If you have a 120V source, three 15Ω resistors in series, and one of them now becomes open.  What is the voltage you read across the open point?",
  img: "images/q97.png",  // placeholder
  A: "40V",
  B: "60V",
  C: "120V",
  D: "0V",
  ans: "C"
},


{
  q: "In a 120V source circuit, there is a resistor or 16 Ω, inductor of 0.265 henries, and capacitor of 26.5 micro farads.  Calculate the total current.",
  img: "images/q98.png",  // placeholder
A: "0.55A",
B: "7.5A",
C: "3.33A",
D: "100A",
ans: "C"
},

{
  q: "If the overload relay in open, what is the result of pressing the start button?",
  img: "images/q99.png",  // placeholder
A: "Red light will light but M coil won’t",
B: "M coil will engage but red light won’t light",
C: "Nothing",
D: "Dont know",
ans: "C"
},



{
  q: "What would happen in the circuit if the Overload tripped and you pressed and held the “START” push button?",
  img: "images/q100.png",  // placeholder
A: "Energize the “MOTOR” Coil and Red Light",
B: "Nothing",
C: "Energize the MOTOR ",
D: "Energize the Red Light but not the MOTOR",
ans: "D"
},

//Q100

{
  q: "Calculate the voltage drop over a 5mH inductor. The circuit is 120V, with a 250Ω resistor in series",
  A: "15V",
  B: "20V",
  C: "24V",
  D: "Depends on phase angle",
  ans: "D"
}




];

// ======== Section Management ========
const perSection = 25;
let currentSection = 0;
const sectionNames = ["Question Set 1", "Question Set 2", "Question Set 3", "Question Set 4"];

function getQuestionsSection(sectionIndex) {
  const start = sectionIndex * perSection;
  const end = start + perSection;
  return questions.slice(start, end);
}

const form = document.getElementById('examForm');

function renderSection(sectionIndex) {
  const sectionQuestions = getQuestionsSection(sectionIndex);
  form.innerHTML = ''; // Clear previous section
  
  
  
  
sectionQuestions.forEach((q, i) => {
  const div = document.createElement('div');
  div.className = 'question';

  // Start with question text
  let html = `<div class='qtext'>${i+1}. ${q.q}</div>`;

  // If this question has an image, add it
  if(q.img){
    html += `<img src="${q.img}" alt="Diagram for Question ${i+1}">`;
  }

  // Add the answer options
  html += `
    <label class='option'><input type='radio' name='q${i}' value='A'> A. ${q.A}</label>
    <label class='option'><input type='radio' name='q${i}' value='B'> B. ${q.B}</label>
    <label class='option'><input type='radio' name='q${i}' value='C'> C. ${q.C}</label>
    <label class='option'><input type='radio' name='q${i}' value='D'> D. ${q.D}</label>
    <div class='feedback' id='feedback-q${i}'></div>
  `;

  div.innerHTML = html;
  form.appendChild(div);
});
 
  


  updateScoreDisplay(0,0,0); // reset score display for new section
}

// ======== Grading ========
function gradeSection() {
  const sectionQuestions = getQuestionsSection(currentSection);
  let correct = 0;
  let incorrect = 0;
  sectionQuestions.forEach((q, i) => {
    const sel = document.querySelector(`input[name=q${i}]:checked`);
    const feedbackDiv = document.getElementById(`feedback-q${i}`);
    if(sel){
      if(sel.value === q.ans){
        feedbackDiv.innerHTML = `<span class='correct'>✅ Correct</span>`;
        correct++;
      } else {
        feedbackDiv.innerHTML = `<span class='incorrect'>❌ Incorrect</span> (Your: ${sel.value}, Correct: ${q.ans})`;
        incorrect++;
      }
    } else {
      feedbackDiv.innerHTML = `<span class='incorrect'>❌ No answer selected</span> (Correct: ${q.ans})`;
      incorrect++;
    }
  });
  const percent = ((correct / sectionQuestions.length) * 100).toFixed(2);
  updateScoreDisplay(correct, incorrect, percent);
}

function updateScoreDisplay(correct, incorrect, percent){
  const sectionName = sectionNames[currentSection] || `Section ${currentSection + 1}`;
  document.getElementById('score').innerHTML =
    `${sectionName} — Score: ${correct + incorrect === 0 ? 0 : correct} / ${perSection} | # Correct: ${correct} | # Incorrect: ${incorrect} | Correct %: ${percent}%`;
}

// ======== Navigation ========
document.getElementById('prev').onclick = () => {
  if(currentSection > 0){
    currentSection--;
    renderSection(currentSection);
  }
};

document.getElementById('next').onclick = () => {
  if(currentSection < Math.ceil(questions.length / perSection) - 1){
    currentSection++;
    renderSection(currentSection);
  }
};

document.getElementById('submit').onclick = gradeSection;

document.getElementById('reset').onclick = () => {
  renderSection(currentSection);
};

// ======== Initial render ========
renderSection(currentSection);
</script>
</body>
</html>
